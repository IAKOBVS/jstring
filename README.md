# jstring

## Features:

- works with any C string type: functions will take a pointer to string, size, and capacity
- in-place literal string and regex replacement: supports backreferences and searching from a specified index
- reverse standard string functions: memrchr(), strrstr(), strrspn(), strrcspn()
- standard string functions for non-nul terminated strings: memspn(), memcspn(), mempbrk()
- extensions to standard string functions: strnstr(), strnchr(), strcasestr\_len()
- string formatting: asprintf() (implemented with vsprintf, which is standard) and vsprintf\_strlen() for checking the size of allocation needed for sprintf()

## Disclaimer:

- jstr\_ty, jstr\_l\_ty must be initialized with zeros.
```
jstr_ty j = JSTR_INIT;
```
or
```
jstr_ty j = {0};
```
JSTR\_INIT is defined as {0}.

## Installation:

```
sudo ./install
```
```
#include <jstr/jstr.h>
```
or
```
./build && cp -rf ./jstr /path/to/library
```
```
#include "/path/to/jstr/jstr.h"
```

Some headers may need to be explicitly included since they rely on POSIX.

## Error handling: 
0 is returned as error unless the function is returning a numeric value. The programmer is expected to check the return value.<br>

Use jstr\_err\(\) to print the error message or jstr\_err\_exit() to also exit. For more comprehensive error messages, use the \*\_debug\(\) functions or
```
#define JSTR_DEBUG 1
```
before including any jstr-\* header. This will make them print the filename, line number, and function in which the error occured.

## Function affixes: 

- \*\_mem\*(): the string need not be nul-terminated
- \*\_len(): take the length of the nul-terminated string
- \*str\*\_len(): the string must be nul-termimated. The size is only used to save a strlen()
- \*stp\*(), \*\_p(), \*\P(): return a pointer to the end of the string
- \*\_unsafe(): assume that there be enough space in the string: the string will not be grown
- \*\_now(): compile regular expression now or prints error message now
- \*\_from(): instead of searching the whole string, start the search from an index.<br>
The index passed by the user is assumed to be not out of bounds.
- \*\_bref(): enable backreferences for the replacement string.<br>
\\0 is interpreted as referring to the whole matched string
- P_\*(), p\*(): private functions or macros used internally

## Scripts:

- build: generate functions
- install: build and copy headers to /usr/local/jstr (requires sudo)
- uninstall: removes /usr/local/jstr (requires sudo)
- clean: removes files generated by build
- fmt: formats code
