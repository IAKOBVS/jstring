#!/bin/sh

cd "$(dirname "$0")" || exit
if ! type clang-format >/dev/null 2>/dev/null; then
	echo 'clang-format does not exist.'
	exit
fi
#shellcheck disable=SC2068
for file in $@; do
	{
		case "$file" in
			*_jstr* | *pp* | *macros* ) exit ;;
		esac
		clang-format -i --style=file:'.clang-format' "$file"
		echo clang-format -i --style=file:'.clang-format' "$file"
	} &
done
wait
